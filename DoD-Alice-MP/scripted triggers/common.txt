is_colonial_power = {
	main_parameter = nation
	OR = {
		is_greater_power = yes
		is_secondary_power = yes
	}
}

revolution_n_counter_researched = {
	any_country = { revolution_n_counterrevolution = 1 }
}

in_influence_of_this = {
	main_parameter = province
	this_parameter = nation
	OR = {
		owned_by = THIS
		owner = {
			OR = {
				vassal_of = THIS
				in_sphere = THIS
				overlord = {
					OR = {
						vassal_of = THIS
						in_sphere = THIS
					}
				}
			}
		}
	}
}

in_influence_of_this_or_empty = {
	main_parameter = province
	this_parameter = nation
	OR = {
		empty = yes
		test = in_influence_of_this
	}
}

#Equivalent to controlled_by = this
any_owned_not_controlled_by_this = {
	main_parameter = nation
	any_owned_province = { controlled_by != owner }
}
any_owned_not_controlled_by_this = {
	main_parameter = state
	any_owned_province = { controlled_by != owner }
}

can_annex_to_this_criteria = {
	main_parameter = nation
	this_parameter = nation
	vassal_of = THIS
	ai = yes
}
can_annex_to_this_sphere_criteria = {
	main_parameter = nation
	this_parameter = nation
	OR = {
		vassal_of = THIS
		in_sphere = THIS
	}
	ai = yes
}

#Is a country an indirect vassal of? This tests up to 5 levels of vassalage
is_indirectly_vassal_of = {
	main_parameter = nation
	this_parameter = nation
	OR = {
		vassal_of = THIS
		overlord = { vassal_of = THIS }
		overlord = { overlord = { vassal_of = THIS } }
		overlord = { overlord = { overlord = { vassal_of = THIS } } }
		overlord = { overlord = { overlord = { overlord = { vassal_of = THIS } } } }
		overlord = { overlord = { overlord = { overlord = { overlord = { vassal_of = THIS } } } } }
	}
}
